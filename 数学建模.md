# 层次分析法

只有非一致矩阵才需要进行一致性检测

==要先进行一致性检测，通过后才能求权重！！！==

~~~matlab
%% 识别判断矩阵
disp('请输入判断矩阵A')
A=input('A=');
[n,n]=size(A);
%% 方法1：算术平均法求权重
Sum_A=sum(A);
SUM_A=repmat(Sum_A,n,1);
Stand_A=A./SUM_A;
disp('计算算数平均值的结果');
w1=sum(Stand_A,2)./n;
disp(w1)
%% 方法2：特征值法求权重
[V,D]=eig(A);
Max_eig=max(max(D));
[r,c]=find(D==Max_eig,1);
disp('特征值求权重的结果为：');
w2=V(:,c)./sum(V(:,c));
disp(w2)
disp('两种方法的平均权值为：');
disp((w1+w2)./2);
%% 计算一致性比例CR
CI=(Max_eig-n)/(n-1);

~~~

